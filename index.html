<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MedTrack - Seguimiento Académico</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #3498db;
            --primary-light: #5dade2;
            --primary-dark: #2980b9;
            --secondary: #a5d8ff;
            --accent: #1abc9c;
            --light: #f8f9fa;
            --dark: #2c3e50;
            --gray: #95a5a6;
            --success: #2ecc71;
            --warning: #f39c12;
            --danger: #e74c3c;
            --border-radius: 10px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f5f7fa;
            color: var(--dark);
            line-height: 1.6;
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 250px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 20px 0;
            transition: var(--transition);
            box-shadow: var(--box-shadow);
            z-index: 1000;
        }

        .logo {
            display: flex;
            align-items: center;
            padding: 0 20px 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 20px;
        }

        .logo i {
            font-size: 28px;
            margin-right: 10px;
        }

        .logo h1 {
            font-size: 22px;
            font-weight: 600;
        }

        .nav-links {
            list-style: none;
            padding: 0 15px;
        }

        .nav-links li {
            margin-bottom: 10px;
        }

        .nav-links a {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            color: white;
            text-decoration: none;
            border-radius: var(--border-radius);
            transition: var(--transition);
            cursor: pointer;
        }

        .nav-links a:hover, .nav-links a.active {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .nav-links i {
            margin-right: 10px;
            font-size: 18px;
            width: 25px;
            text-align: center;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e0e0e0;
        }

        .header h2 {
            font-weight: 600;
            color: var(--dark);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }

        /* Dashboard */
        .dashboard-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 20px;
            transition: var(--transition);
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .card-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--dark);
        }

        .card-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
        }

        .progress-card .card-icon {
            background-color: var(--primary);
        }

        .subjects-card .card-icon {
            background-color: var(--accent);
        }

        .exams-card .card-icon {
            background-color: var(--warning);
        }

        .achievements-card .card-icon {
            background-color: var(--success);
        }

        .progress-bar {
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            margin: 15px 0;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background-color: var(--primary);
            border-radius: 5px;
        }

        .progress-text {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            color: var(--gray);
        }

        .subject-item, .exam-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .subject-item:last-child, .exam-item:last-child {
            border-bottom: none;
        }

        .subject-name, .exam-name {
            font-weight: 500;
        }

        .subject-status, .exam-date {
            font-size: 14px;
            color: var(--gray);
        }

        .achievement-item {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .achievement-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            color: var(--primary);
        }

        .achievement-details h4 {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .achievement-details p {
            font-size: 12px;
            color: var(--gray);
        }

        /* Sections */
        .section {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .btn {
            padding: 10px 20px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn:hover {
            background-color: var(--primary-dark);
        }

        .btn-secondary {
            background-color: var(--secondary);
            color: var(--dark);
        }

        .btn-secondary:hover {
            background-color: var(--primary-light);
        }

        .table-container {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            overflow: hidden;
            margin-bottom: 30px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #f0f0f0;
        }

        th {
            background-color: #f8f9fa;
            font-weight: 600;
            color: var(--dark);
        }

        tr:last-child td {
            border-bottom: none;
        }

        .status {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }

        .status-pending {
            background-color: #fff3cd;
            color: #856404;
        }

        .status-in-progress {
            background-color: #d1ecf1;
            color: #0c5460;
        }

        .status-completed {
            background-color: #d4edda;
            color: #155724;
        }

        .filters {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .filter-select {
            padding: 10px 15px;
            border: 1px solid #e0e0e0;
            border-radius: var(--border-radius);
            background-color: white;
            font-family: 'Inter', sans-serif;
        }

        .calendar {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 20px;
            margin-bottom: 30px;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
        }

        .calendar-day {
            padding: 10px;
            text-align: center;
            border-radius: var(--border-radius);
            background-color: #f8f9fa;
            font-weight: 500;
        }

        .calendar-date {
            padding: 10px;
            text-align: center;
            border-radius: var(--border-radius);
            min-height: 80px;
            background-color: white;
            border: 1px solid #f0f0f0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
        }

        .calendar-date.has-event {
            background-color: #e8f4fd;
            border-color: var(--primary-light);
        }

        .event-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: var(--primary);
            margin-top: 5px;
        }

        .chart-container {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 20px;
            margin-bottom: 30px;
        }

        /* Forms */
        .form-container {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 20px;
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #e0e0e0;
            border-radius: var(--border-radius);
            font-family: 'Inter', sans-serif;
            transition: var(--transition);
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            border-color: var(--primary);
            outline: none;
        }

        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }

        .form-actions {
            display: flex;
            justify-content: flex-end;
            gap: 15px;
            margin-top: 20px;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 30px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e0e0e0;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--dark);
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--gray);
        }

        .close-btn:hover {
            color: var(--dark);
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--success);
            color: white;
            padding: 15px 20px;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            z-index: 1001;
            display: flex;
            align-items: center;
            gap: 10px;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s ease;
        }

        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }

        /* Mobile Responsive */
        @media (max-width: 992px) {
            .container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
                padding: 10px 0;
            }
            
            .nav-links {
                display: flex;
                overflow-x: auto;
                padding: 0 10px;
            }
            
            .nav-links li {
                margin-bottom: 0;
                margin-right: 10px;
            }
            
            .nav-links a {
                white-space: nowrap;
            }
            
            .dashboard-cards {
                grid-template-columns: 1fr;
            }
            
            .filters {
                flex-direction: column;
            }
            
            .calendar-grid {
                grid-template-columns: repeat(7, 1fr);
                font-size: 12px;
            }
            
            .calendar-date {
                min-height: 60px;
                padding: 5px;
            }
        }

        @media (max-width: 576px) {
            .main-content {
                padding: 15px;
            }
            
            .header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .user-info {
                align-self: flex-end;
            }
            
            .calendar-grid {
                grid-template-columns: repeat(7, 1fr);
                gap: 5px;
            }
            
            .calendar-date {
                min-height: 50px;
                font-size: 12px;
            }
            
            th, td {
                padding: 10px 5px;
                font-size: 14px;
            }

            .modal-content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logo">
                <i class="fas fa-stethoscope"></i>
                <h1>MedTrack</h1>
            </div>
            <ul class="nav-links">
                <li><a class="nav-link active" data-target="dashboard"><i class="fas fa-home"></i> Inicio</a></li>
                <li><a class="nav-link" data-target="profile"><i class="fas fa-user-graduate"></i> Perfil Académico</a></li>
                <li><a class="nav-link" data-target="achievements"><i class="fas fa-trophy"></i> Logros Académicos</a></li>
                <li><a class="nav-link" data-target="subjects"><i class="fas fa-book"></i> Materias y Avances</a></li>
                <li><a class="nav-link" data-target="calendar"><i class="fas fa-calendar-alt"></i> Calendario</a></li>
                <li><a class="nav-link" data-target="practices"><i class="fas fa-hospital"></i> Prácticas Clínicas</a></li>
                <li><a class="nav-link" data-target="statistics"><i class="fas fa-chart-bar"></i> Estadísticas</a></li>
                <li><a class="nav-link" data-target="backup"><i class="fas fa-download"></i> Backup</a></li>
            </ul>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Header -->
            <div class="header">
                <h2 id="page-title">Dashboard</h2>
                <div class="user-info">
                    <span>Ana Rodríguez</span>
                    <div class="user-avatar">AR</div>
                </div>
            </div>

            <!-- Dashboard Section -->
            <div id="dashboard" class="section active">
                <div class="dashboard-cards">
                    <div class="card progress-card">
                        <div class="card-header">
                            <div class="card-title">Progreso General</div>
                            <div class="card-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                        </div>
                        <div class="progress-bar">
                            <div class="progress" style="width: 65%"></div>
                        </div>
                        <div class="progress-text">
                            <span>65% Completado</span>
                            <span>130/200 créditos</span>
                        </div>
                    </div>

                    <div class="card subjects-card">
                        <div class="card-header">
                            <div class="card-title">Materias en Curso</div>
                            <div class="card-icon">
                                <i class="fas fa-book-open"></i>
                            </div>
                        </div>
                        <div class="subject-item">
                            <div class="subject-name">Farmacología</div>
                            <div class="subject-status">75% completado</div>
                        </div>
                        <div class="subject-item">
                            <div class="subject-name">Cirugía General</div>
                            <div class="subject-status">60% completado</div>
                        </div>
                        <div class="subject-item">
                            <div class="subject-name">Enfermería Comunitaria</div>
                            <div class="subject-status">40% completado</div>
                        </div>
                    </div>

                    <div class="card exams-card">
                        <div class="card-header">
                            <div class="card-title">Próximos Exámenes</div>
                            <div class="card-icon">
                                <i class="fas fa-clipboard-list"></i>
                            </div>
                        </div>
                        <div class="exam-item">
                            <div class="exam-name">Farmacología - Parcial</div>
                            <div class="exam-date">15 Oct</div>
                        </div>
                        <div class="exam-item">
                            <div class="exam-name">Cirugía - Final</div>
                            <div class="exam-date">22 Oct</div>
                        </div>
                        <div class="exam-item">
                            <div class="exam-name">Enfermería - Práctica</div>
                            <div class="exam-date">30 Oct</div>
                        </div>
                    </div>

                    <div class="card achievements-card">
                        <div class="card-header">
                            <div class="card-title">Logros Recientes</div>
                            <div class="card-icon">
                                <i class="fas fa-award"></i>
                            </div>
                        </div>
                        <div class="achievement-item">
                            <div class="achievement-icon">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <div class="achievement-details">
                                <h4>Anatomía Aprobada</h4>
                                <p>Examen final - 8.5</p>
                            </div>
                        </div>
                        <div class="achievement-item">
                            <div class="achievement-icon">
                                <i class="fas fa-certificate"></i>
                            </div>
                            <div class="achievement-details">
                                <h4>Certificado RCP</h4>
                                <p>Curso avanzado</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="chart-container">
                    <canvas id="progressChart"></canvas>
                </div>
            </div>

            <!-- Profile Section -->
            <div id="profile" class="section">
                <div class="section-header">
                    <h2>Perfil Académico</h2>
                    <button class="btn" id="edit-profile-btn"><i class="fas fa-edit"></i> Editar Perfil</button>
                </div>

                <div class="dashboard-cards">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Datos Personales</div>
                            <div class="card-icon" style="background-color: var(--accent);">
                                <i class="fas fa-user"></i>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Nombre Completo</label>
                            <input type="text" class="form-input" id="profile-name" value="Ana Rodríguez" readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-input" id="profile-email" value="ana.rodriguez@universidad.edu" readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Teléfono</label>
                            <input type="tel" class="form-input" id="profile-phone" value="+34 612 345 678" readonly>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Información Académica</div>
                            <div class="card-icon" style="background-color: var(--primary);">
                                <i class="fas fa-graduation-cap"></i>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Carrera(s)</label>
                            <input type="text" class="form-input" id="profile-career" value="Medicina y Enfermería" readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Año Actual</label>
                            <input type="text" class="form-input" id="profile-year" value="3er Año" readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Promedio General</label>
                            <input type="text" class="form-input" id="profile-average" value="8.2" readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Créditos Aprobados</label>
                            <input type="text" class="form-input" id="profile-credits" value="130 / 200" readonly>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Achievements Section -->
            <div id="achievements" class="section">
                <div class="section-header">
                    <h2>Logros Académicos</h2>
                    <button class="btn" id="add-achievement-btn"><i class="fas fa-plus"></i> Agregar Logro</button>
                </div>

                <div class="filters">
                    <select class="filter-select" id="achievement-type-filter">
                        <option>Todos los tipos</option>
                        <option>Examen aprobado</option>
                        <option>Práctica realizada</option>
                        <option>Certificado</option>
                        <option>Congreso</option>
                        <option>Voluntariado</option>
                    </select>
                    <select class="filter-select" id="achievement-category-filter">
                        <option>Todas las categorías</option>
                        <option>Medicina</option>
                        <option>Enfermería</option>
                    </select>
                    <input type="date" class="filter-select" id="achievement-date-from" placeholder="Fecha desde">
                    <input type="date" class="filter-select" id="achievement-date-to" placeholder="Fecha hasta">
                </div>

                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Título</th>
                                <th>Tipo</th>
                                <th>Categoría</th>
                                <th>Fecha</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="achievements-table-body">
                            <tr>
                                <td>Anatomía Aprobada</td>
                                <td>Examen aprobado</td>
                                <td>Medicina</td>
                                <td>15/09/2023</td>
                                <td>
                                    <button class="btn btn-secondary edit-achievement" style="padding: 5px 10px; font-size: 12px;">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn delete-achievement" style="padding: 5px 10px; font-size: 12px; background-color: var(--danger);">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>Certificado RCP Avanzado</td>
                                <td>Certificado</td>
                                <td>Enfermería</td>
                                <td>22/08/2023</td>
                                <td>
                                    <button class="btn btn-secondary edit-achievement" style="padding: 5px 10px; font-size: 12px;">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn delete-achievement" style="padding: 5px 10px; font-size: 12px; background-color: var(--danger);">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>Congreso de Cardiología</td>
                                <td>Congreso</td>
                                <td>Medicina</td>
                                <td>10/07/2023</td>
                                <td>
                                    <button class="btn btn-secondary edit-achievement" style="padding: 5px 10px; font-size: 12px;">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn delete-achievement" style="padding: 5px 10px; font-size: 12px; background-color: var(--danger);">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Subjects Section -->
            <div id="subjects" class="section">
                <div class="section-header">
                    <h2>Materias y Avances</h2>
                    <button class="btn" id="add-subject-btn"><i class="fas fa-plus"></i> Agregar Materia</button>
                </div>

                <div class="filters">
                    <select class="filter-select" id="subject-career-filter">
                        <option>Todas las carreras</option>
                        <option>Medicina</option>
                        <option>Enfermería</option>
                    </select>
                    <select class="filter-select" id="subject-status-filter">
                        <option>Todos los estados</option>
                        <option>Pendiente</option>
                        <option>Cursando</option>
                        <option>Aprobado</option>
                        <option>Final aprobado</option>
                    </select>
                </div>

                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Materia</th>
                                <th>Carrera</th>
                                <th>Año</th>
                                <th>Estado</th>
                                <th>Nota</th>
                                <th>Progreso</th>
                            </tr>
                        </thead>
                        <tbody id="subjects-table-body">
                            <tr>
                                <td>Farmacología</td>
                                <td>Medicina</td>
                                <td>3er Año</td>
                                <td><span class="status status-in-progress">Cursando</span></td>
                                <td>-</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress" style="width: 75%"></div>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>Cirugía General</td>
                                <td>Medicina</td>
                                <td>3er Año</td>
                                <td><span class="status status-in-progress">Cursando</span></td>
                                <td>-</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress" style="width: 60%"></div>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>Enfermería Comunitaria</td>
                                <td>Enfermería</td>
                                <td>3er Año</td>
                                <td><span class="status status-in-progress">Cursando</span></td>
                                <td>-</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress" style="width: 40%"></div>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>Anatomía</td>
                                <td>Medicina</td>
                                <td>2do Año</td>
                                <td><span class="status status-completed">Aprobado</span></td>
                                <td>8.5</td>
                                <td>
                                    <div class="progress-bar">
                                        <div class="progress" style="width: 100%"></div>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Calendar Section -->
            <div id="calendar" class="section">
                <div class="section-header">
                    <h2>Calendario Académico</h2>
                    <button class="btn" id="add-event-btn"><i class="fas fa-plus"></i> Agregar Evento</button>
                </div>

                <div class="calendar">
                    <div class="calendar-header">
                        <h3>Octubre 2023</h3>
                        <div>
                            <button class="btn btn-secondary" id="prev-month-btn"><i class="fas fa-chevron-left"></i></button>
                            <button class="btn btn-secondary" id="next-month-btn"><i class="fas fa-chevron-right"></i></button>
                        </div>
                    </div>
                    <div class="calendar-grid">
                        <div class="calendar-day">Lun</div>
                        <div class="calendar-day">Mar</div>
                        <div class="calendar-day">Mié</div>
                        <div class="calendar-day">Jue</div>
                        <div class="calendar-day">Vie</div>
                        <div class="calendar-day">Sáb</div>
                        <div class="calendar-day">Dom</div>

                        <!-- Calendar dates would be generated dynamically in a real application -->
                        <div class="calendar-date">25</div>
                        <div class="calendar-date">26</div>
                        <div class="calendar-date">27</div>
                        <div class="calendar-date">28</div>
                        <div class="calendar-date">29</div>
                        <div class="calendar-date">30</div>
                        <div class="calendar-date has-event">1
                            <div class="event-dot"></div>
                        </div>
                        <div class="calendar-date">2</div>
                        <div class="calendar-date">3</div>
                        <div class="calendar-date">4</div>
                        <div class="calendar-date">5</div>
                        <div class="calendar-date">6</div>
                        <div class="calendar-date">7</div>
                        <div class="calendar-date">8</div>
                        <div class="calendar-date">9</div>
                        <div class="calendar-date">10</div>
                        <div class="calendar-date has-event">11
                            <div class="event-dot"></div>
                        </div>
                        <div class="calendar-date">12</div>
                        <div class="calendar-date">13</div>
                        <div class="calendar-date">14</div>
                        <div class="calendar-date has-event">15
                            <div class="event-dot"></div>
                        </div>
                        <div class="calendar-date">16</div>
                        <div class="calendar-date">17</div>
                        <div class="calendar-date">18</div>
                        <div class="calendar-date">19</div>
                        <div class="calendar-date">20</div>
                        <div class="calendar-date">21</div>
                        <div class="calendar-date has-event">22
                            <div class="event-dot"></div>
                        </div>
                        <div class="calendar-date">23</div>
                        <div class="calendar-date">24</div>
                        <div class="calendar-date">25</div>
                        <div class="calendar-date">26</div>
                        <div class="calendar-date">27</div>
                        <div class="calendar-date">28</div>
                        <div class="calendar-date">29</div>
                        <div class="calendar-date has-event">30
                            <div class="event-dot"></div>
                        </div>
                        <div class="calendar-date">31</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Próximos Eventos</div>
                        <div class="card-icon" style="background-color: var(--warning);">
                            <i class="fas fa-bell"></i>
                        </div>
                    </div>
                    <div class="exam-item">
                        <div class="exam-name">Farmacología - Parcial</div>
                        <div class="exam-date">15 Oct, 09:00</div>
                    </div>
                    <div class="exam-item">
                        <div class="exam-name">Cirugía - Final</div>
                        <div class="exam-date">22 Oct, 14:00</div>
                    </div>
                    <div class="exam-item">
                        <div class="exam-name">Enfermería - Práctica</div>
                        <div class="exam-date">30 Oct, 10:00</div>
                    </div>
                </div>
            </div>

            <!-- Practices Section -->
            <div id="practices" class="section">
                <div class="section-header">
                    <h2>Prácticas Clínicas / Rotaciones</h2>
                    <button class="btn" id="add-practice-btn"><i class="fas fa-plus"></i> Agregar Práctica</button>
                </div>

                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Servicio/Unidad</th>
                                <th>Institución</th>
                                <th>Fechas</th>
                                <th>Supervisor</th>
                                <th>Estado</th>
                            </tr>
                        </thead>
                        <tbody id="practices-table-body">
                            <tr>
                                <td>Cardiología</td>
                                <td>Hospital Central</td>
                                <td>01/09/2023 - 30/09/2023</td>
                                <td>Dr. Martínez</td>
                                <td><span class="status status-completed">Completada</span></td>
                            </tr>
                            <tr>
                                <td>Pediatría</td>
                                <td>Hospital Infantil</td>
                                <td>01/10/2023 - 31/10/2023</td>
                                <td>Dra. González</td>
                                <td><span class="status status-in-progress">En curso</span></td>
                            </tr>
                            <tr>
                                <td>Urgencias</td>
                                <td>Clínica San Juan</td>
                                <td>01/11/2023 - 30/11/2023</td>
                                <td>Dr. López</td>
                                <td><span class="status status-pending">Pendiente</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Statistics Section -->
            <div id="statistics" class="section">
                <div class="section-header">
                    <h2>Estadísticas y Análisis</h2>
                </div>

                <div class="dashboard-cards">
                    <div class="card chart-container">
                        <h3>Materias Aprobadas por Año</h3>
                        <canvas id="subjectsByYearChart"></canvas>
                    </div>
                    <div class="card chart-container">
                        <h3>Evolución del Promedio</h3>
                        <canvas id="averageEvolutionChart"></canvas>
                    </div>
                </div>

                <div class="dashboard-cards">
                    <div class="card chart-container">
                        <h3>Distribución de Logros</h3>
                        <canvas id="achievementsChart"></canvas>
                    </div>
                    <div class="card chart-container">
                        <h3>Horas de Práctica por Mes</h3>
                        <canvas id="practiceHoursChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Backup Section -->
            <div id="backup" class="section">
                <div class="section-header">
                    <h2>Backup y Exportación</h2>
                </div>

                <div class="dashboard-cards">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Descargar Datos</div>
                            <div class="card-icon" style="background-color: var(--success);">
                                <i class="fas fa-file-export"></i>
                            </div>
                        </div>
                        <p>Descarga todos tus datos académicos en formato PDF o Excel para mantener un respaldo fuera de línea.</p>
                        <div class="form-actions">
                            <button class="btn" id="export-pdf-btn"><i class="fas fa-file-pdf"></i> Exportar PDF</button>
                            <button class="btn btn-secondary" id="export-excel-btn"><i class="fas fa-file-excel"></i> Exportar Excel</button>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Respaldos Automáticos</div>
                            <div class="card-icon" style="background-color: var(--primary);">
                                <i class="fas fa-cloud-upload-alt"></i>
                            </div>
                        </div>
                        <p>Configura respaldos automáticos para que tus datos se guarden periódicamente sin necesidad de intervención manual.</p>
                        <div class="form-group">
                            <label class="form-label">Frecuencia de respaldo</label>
                            <select class="form-select" id="backup-frequency">
                                <option>Diariamente</option>
                                <option>Semanalmente</option>
                                <option>Mensualmente</option>
                            </select>
                        </div>
                        <div class="form-actions">
                            <button class="btn" id="save-backup-settings-btn"><i class="fas fa-save"></i> Guardar Configuración</button>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Restaurar Datos</div>
                        <div class="card-icon" style="background-color: var(--warning);">
                            <i class="fas fa-file-import"></i>
                        </div>
                    </div>
                    <p>Restaura tus datos desde un archivo de respaldo anterior en caso de pérdida de información.</p>
                    <div class="form-group">
                        <label class="form-label">Seleccionar archivo de respaldo</label>
                        <input type="file" class="form-input" id="backup-file">
                    </div>
                    <div class="form-actions">
                        <button class="btn" id="restore-data-btn"><i class="fas fa-upload"></i> Restaurar Datos</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para formularios -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="modal-title">Título del Modal</h3>
                <button class="close-btn" id="close-modal-btn">&times;</button>
            </div>
            <div id="modal-body">
                <!-- Contenido del modal se insertará aquí -->
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast">
        <i class="fas fa-check-circle"></i>
        <span id="toast-message">Operación completada con éxito</span>
    </div>

    <script>
        // =============================================
        // FUNCIONES PRINCIPALES DE NAVEGACIÓN
        // =============================================
        
        // Navegación entre secciones
        document.addEventListener('DOMContentLoaded', function() {
            // Seleccionar todos los enlaces de navegación
            const navLinks = document.querySelectorAll('.nav-link');
            
            // Función para cambiar de sección
            function showSection(sectionId) {
                // Ocultar todas las secciones
                document.querySelectorAll('.section').forEach(section => {
                    section.classList.remove('active');
                });
                
                // Mostrar la sección seleccionada
                const targetSection = document.getElementById(sectionId);
                if (targetSection) {
                    targetSection.classList.add('active');
                    
                    // Actualizar el título de la página
                    const sectionTitle = targetSection.querySelector('h2');
                    if (sectionTitle) {
                        document.getElementById('page-title').textContent = sectionTitle.textContent;
                    }
                    
                    // Actualizar enlace activo en el menú
                    navLinks.forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('data-target') === sectionId) {
                            link.classList.add('active');
                        }
                    });
                }
            }
            
            // Añadir evento click a cada enlace
            navLinks.forEach(link => {
                link.addEventListener('click', function() {
                    const targetSection = this.getAttribute('data-target');
                    showSection(targetSection);
                });
            });
            
            // Inicializar gráficos
            initializeCharts();
            
            // Inicializar funcionalidades de botones
            initializeButtons();
        });

        // =============================================
        // INICIALIZACIÓN DE GRÁFICOS
        // =============================================
        
        function initializeCharts() {
            // Gráfico de progreso general (Dashboard)
            const progressCtx = document.getElementById('progressChart');
            if (progressCtx) {
                new Chart(progressCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Completado', 'Pendiente'],
                        datasets: [{
                            data: [65, 35],
                            backgroundColor: ['#3498db', '#ecf0f1'],
                            borderWidth: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        cutout: '70%',
                        plugins: {
                            legend: {
                                position: 'bottom'
                            }
                        }
                    }
                });
            }

            // Gráfico de materias por año (Estadísticas)
            const subjectsByYearCtx = document.getElementById('subjectsByYearChart');
            if (subjectsByYearCtx) {
                new Chart(subjectsByYearCtx, {
                    type: 'bar',
                    data: {
                        labels: ['1er Año', '2do Año', '3er Año'],
                        datasets: [{
                            label: 'Materias Aprobadas',
                            data: [8, 10, 5],
                            backgroundColor: '#3498db'
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: {
                                    stepSize: 2
                                }
                            }
                        }
                    }
                });
            }

            // Gráfico de evolución del promedio (Estadísticas)
            const averageCtx = document.getElementById('averageEvolutionChart');
            if (averageCtx) {
                new Chart(averageCtx, {
                    type: 'line',
                    data: {
                        labels: ['1er Año', '2do Año', '3er Año'],
                        datasets: [{
                            label: 'Promedio',
                            data: [7.5, 8.0, 8.2],
                            borderColor: '#1abc9c',
                            tension: 0.1,
                            fill: false
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: {
                            y: {
                                beginAtZero: false,
                                min: 7,
                                max: 10
                            }
                        }
                    }
                });
            }

            // Gráfico de distribución de logros (Estadísticas)
            const achievementsCtx = document.getElementById('achievementsChart');
            if (achievementsCtx) {
                new Chart(achievementsCtx, {
                    type: 'pie',
                    data: {
                        labels: ['Exámenes', 'Prácticas', 'Certificados', 'Congresos', 'Voluntariados'],
                        datasets: [{
                            data: [10, 5, 3, 2, 1],
                            backgroundColor: ['#3498db', '#1abc9c', '#9b59b6', '#e74c3c', '#f39c12']
                        }]
                    },
                    options: {
                        responsive: true
                    }
                });
            }

            // Gráfico de horas de práctica (Estadísticas)
            const practiceHoursCtx = document.getElementById('practiceHoursChart');
            if (practiceHoursCtx) {
                new Chart(practiceHoursCtx, {
                    type: 'line',
                    data: {
                        labels: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun'],
                        datasets: [{
                            label: 'Horas de Práctica',
                            data: [20, 25, 30, 22, 28, 35],
                            borderColor: '#9b59b6',
                            tension: 0.1,
                            fill: false
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            }
        }

        // =============================================
        // INICIALIZACIÓN DE TODOS LOS BOTONES
        // =============================================
        
        function initializeButtons() {
            console.log("Inicializando botones...");
            
            // Botón Editar Perfil
            document.getElementById('edit-profile-btn').addEventListener('click', toggleProfileEditMode);
            
            // Botón Agregar Logro
            document.getElementById('add-achievement-btn').addEventListener('click', showAchievementForm);
            
            // Botón Agregar Materia
            document.getElementById('add-subject-btn').addEventListener('click', showSubjectForm);
            
            // Botón Agregar Evento
            document.getElementById('add-event-btn').addEventListener('click', showEventForm);
            
            // Botón Agregar Práctica
            document.getElementById('add-practice-btn').addEventListener('click', showPracticeForm);
            
            // Botones de Backup
            document.getElementById('export-pdf-btn').addEventListener('click', function() {
                exportData('PDF');
            });
            
            document.getElementById('export-excel-btn').addEventListener('click', function() {
                exportData('Excel');
            });
            
            document.getElementById('save-backup-settings-btn').addEventListener('click', saveBackupSettings);
            
            document.getElementById('restore-data-btn').addEventListener('click', restoreData);
            
            // Botones de navegación del calendario
            document.getElementById('prev-month-btn').addEventListener('click', function() {
                navigateCalendar('prev');
            });
            
            document.getElementById('next-month-btn').addEventListener('click', function() {
                navigateCalendar('next');
            });
            
            // Botón cerrar modal
            document.getElementById('close-modal-btn').addEventListener('click', closeModal);
            
            // Cerrar modal al hacer clic fuera
            document.getElementById('modal').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeModal();
                }
            });
            
            // Delegación de eventos para botones dinámicos (logros)
            document.getElementById('achievements-table-body').addEventListener('click', function(e) {
                if (e.target.closest('.delete-achievement')) {
                    deleteAchievement(e.target.closest('.delete-achievement'));
                }
                if (e.target.closest('.edit-achievement')) {
                    editAchievement(e.target.closest('.edit-achievement'));
                }
            });
            
            console.log("Botones inicializados correctamente");
        }

        // =============================================
        // FUNCIONALIDADES DE BOTONES
        // =============================================
        
        // Función para alternar modo edición del perfil
        function toggleProfileEditMode() {
            console.log("Editando perfil...");
            const inputs = document.querySelectorAll('#profile input');
            const editBtn = document.getElementById('edit-profile-btn');
            
            const isEditing = inputs[0].hasAttribute('readonly');
            
            if (isEditing) {
                // Activar edición
                inputs.forEach(input => {
                    input.removeAttribute('readonly');
                    input.style.backgroundColor = '#f8f9fa';
                });
                editBtn.innerHTML = '<i class="fas fa-save"></i> Guardar Cambios';
                editBtn.style.backgroundColor = 'var(--success)';
                showToast('Modo edición activado');
            } else {
                // Guardar cambios
                inputs.forEach(input => {
                    input.setAttribute('readonly', true);
                    input.style.backgroundColor = '';
                });
                editBtn.innerHTML = '<i class="fas fa-edit"></i> Editar Perfil';
                editBtn.style.backgroundColor = 'var(--primary)';
                showToast('Perfil actualizado correctamente');
            }
        }

        // Función para mostrar formulario de logro
        function showAchievementForm() {
            console.log("Mostrando formulario de logro...");
            const modal = document.getElementById('modal');
            const modalTitle = document.getElementById('modal-title');
            const modalBody = document.getElementById('modal-body');
            
            modalTitle.textContent = 'Agregar Logro Académico';
            modalBody.innerHTML = `
                <div class="form-group">
                    <label class="form-label">Título del Logro</label>
                    <input type="text" class="form-input" id="achievement-title" placeholder="Ej: Anatomía Aprobada">
                </div>
                <div class="form-group">
                    <label class="form-label">Tipo de Logro</label>
                    <select class="form-select" id="achievement-type">
                        <option value="">Seleccionar tipo</option>
                        <option>Examen aprobado</option>
                        <option>Práctica realizada</option>
                        <option>Certificado</option>
                        <option>Congreso</option>
                        <option>Voluntariado</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Categoría</label>
                    <select class="form-select" id="achievement-category">
                        <option value="">Seleccionar categoría</option>
                        <option>Medicina</option>
                        <option>Enfermería</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Fecha</label>
                    <input type="date" class="form-input" id="achievement-date">
                </div>
                <div class="form-group">
                    <label class="form-label">Descripción</label>
                    <textarea class="form-textarea" id="achievement-description" placeholder="Descripción del logro..."></textarea>
                </div>
                <div class="form-actions">
                    <button class="btn btn-secondary" id="cancel-achievement-btn">Cancelar</button>
                    <button class="btn" id="save-achievement-btn">Guardar Logro</button>
                </div>
            `;
            
            modal.style.display = 'flex';
            
            // Configurar eventos para los botones del modal
            document.getElementById('cancel-achievement-btn').addEventListener('click', closeModal);
            document.getElementById('save-achievement-btn').addEventListener('click', saveAchievement);
        }

        // Función para guardar logro
        function saveAchievement() {
            console.log("Guardando logro...");
            const title = document.getElementById('achievement-title').value;
            const type = document.getElementById('achievement-type').value;
            const category = document.getElementById('achievement-category').value;
            const date = document.getElementById('achievement-date').value;
            
            if (!title || !type || !category || !date) {
                showToast('Por favor, completa todos los campos', 'error');
                return;
            }
            
            // Formatear fecha
            const formattedDate = new Date(date).toLocaleDateString('es-ES');
            
            // Agregar a la tabla
            const tableBody = document.getElementById('achievements-table-body');
            const newRow = document.createElement('tr');
            newRow.innerHTML = `
                <td>${title}</td>
                <td>${type}</td>
                <td>${category}</td>
                <td>${formattedDate}</td>
                <td>
                    <button class="btn btn-secondary edit-achievement" style="padding: 5px 10px; font-size: 12px;">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button class="btn delete-achievement" style="padding: 5px 10px; font-size: 12px; background-color: var(--danger);">
                        <i class="fas fa-trash"></i>
                    </button>
                </td>
            `;
            tableBody.appendChild(newRow);
            
            closeModal();
            showToast('Logro agregado correctamente');
        }

        // Función para eliminar logro
        function deleteAchievement(button) {
            console.log("Eliminando logro...");
            const row = button.closest('tr');
            row.remove();
            showToast('Logro eliminado correctamente');
        }

        // Función para editar logro
        function editAchievement(button) {
            console.log("Editando logro...");
            const row = button.closest('tr');
            const cells = row.querySelectorAll('td');
            
            const modal = document.getElementById('modal');
            const modalTitle = document.getElementById('modal-title');
            const modalBody = document.getElementById('modal-body');
            
            modalTitle.textContent = 'Editar Logro Académico';
            modalBody.innerHTML = `
                <div class="form-group">
                    <label class="form-label">Título del Logro</label>
                    <input type="text" class="form-input" id="edit-achievement-title" value="${cells[0].textContent}">
                </div>
                <div class="form-group">
                    <label class="form-label">Tipo de Logro</label>
                    <select class="form-select" id="edit-achievement-type">
                        <option value="">Seleccionar tipo</option>
                        <option ${cells[1].textContent === 'Examen aprobado' ? 'selected' : ''}>Examen aprobado</option>
                        <option ${cells[1].textContent === 'Práctica realizada' ? 'selected' : ''}>Práctica realizada</option>
                        <option ${cells[1].textContent === 'Certificado' ? 'selected' : ''}>Certificado</option>
                        <option ${cells[1].textContent === 'Congreso' ? 'selected' : ''}>Congreso</option>
                        <option ${cells[1].textContent === 'Voluntariado' ? 'selected' : ''}>Voluntariado</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Categoría</label>
                    <select class="form-select" id="edit-achievement-category">
                        <option value="">Seleccionar categoría</option>
                        <option ${cells[2].textContent === 'Medicina' ? 'selected' : ''}>Medicina</option>
                        <option ${cells[2].textContent === 'Enfermería' ? 'selected' : ''}>Enfermería</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Fecha</label>
                    <input type="date" class="form-input" id="edit-achievement-date" value="${formatDateForInput(cells[3].textContent)}">
                </div>
                <div class="form-group">
                    <label class="form-label">Descripción</label>
                    <textarea class="form-textarea" id="edit-achievement-description" placeholder="Descripción del logro..."></textarea>
                </div>
                <div class="form-actions">
                    <button class="btn btn-secondary" id="cancel-edit-achievement-btn">Cancelar</button>
                    <button class="btn" id="update-achievement-btn">Actualizar Logro</button>
                </div>
            `;
            
            modal.style.display = 'flex';
            
            // Configurar eventos para los botones del modal
            document.getElementById('cancel-edit-achievement-btn').addEventListener('click', closeModal);
            document.getElementById('update-achievement-btn').addEventListener('click', function() {
                updateAchievement(row);
            });
        }

        // Función para actualizar logro
        function updateAchievement(row) {
            console.log("Actualizando logro...");
            const title = document.getElementById('edit-achievement-title').value;
            const type = document.getElementById('edit-achievement-type').value;
            const category = document.getElementById('edit-achievement-category').value;
            const date = document.getElementById('edit-achievement-date').value;
            
            if (!title || !type || !category || !date) {
                showToast('Por favor, completa todos los campos', 'error');
                return;
            }
            
            // Formatear fecha
            const formattedDate = new Date(date).toLocaleDateString('es-ES');
            
            // Actualizar la fila
            const cells = row.querySelectorAll('td');
            cells[0].textContent = title;
            cells[1].textContent = type;
            cells[2].textContent = category;
            cells[3].textContent = formattedDate;
            
            closeModal();
            showToast('Logro actualizado correctamente');
        }

        // Función para mostrar formulario de materia
        function showSubjectForm() {
            console.log("Mostrando formulario de materia...");
            const modal = document.getElementById('modal');
            const modalTitle = document.getElementById('modal-title');
            const modalBody = document.getElementById('modal-body');
            
            modalTitle.textContent = 'Agregar Materia';
            modalBody.innerHTML = `
                <div class="form-group">
                    <label class="form-label">Nombre de la Materia</label>
                    <input type="text" class="form-input" id="subject-name" placeholder="Ej: Farmacología">
                </div>
                <div class="form-group">
                    <label class="form-label">Carrera</label>
                    <select class="form-select" id="subject-career">
                        <option value="">Seleccionar carrera</option>
                        <option>Medicina</option>
                        <option>Enfermería</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Año</label>
                    <select class="form-select" id="subject-year">
                        <option value="">Seleccionar año</option>
                        <option>1er Año</option>
                        <option>2do Año</option>
                        <option>3er Año</option>
                        <option>4to Año</option>
                        <option>5to Año</option>
                        <option>6to Año</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Estado</label>
                    <select class="form-select" id="subject-status">
                        <option value="">Seleccionar estado</option>
                        <option>Pendiente</option>
                        <option>Cursando</option>
                        <option>Aprobado</option>
                        <option>Final aprobado</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Nota</label>
                    <input type="number" class="form-input" id="subject-grade" min="0" max="10" step="0.1" placeholder="0-10">
                </div>
                <div class="form-group">
                    <label class="form-label">Progreso (%)</label>
                    <input type="number" class="form-input" id="subject-progress" min="0" max="100" placeholder="0-100">
                </div>
                <div class="form-actions">
                    <button class="btn btn-secondary" id="cancel-subject-btn">Cancelar</button>
                    <button class="btn" id="save-subject-btn">Guardar Materia</button>
                </div>
            `;
            
            modal.style.display = 'flex';
            
            // Configurar eventos para los botones del modal
            document.getElementById('cancel-subject-btn').addEventListener('click', closeModal);
            document.getElementById('save-subject-btn').addEventListener('click', saveSubject);
        }

        // Función para guardar materia
        function saveSubject() {
            console.log("Guardando materia...");
            const name = document.getElementById('subject-name').value;
            const career = document.getElementById('subject-career').value;
            const year = document.getElementById('subject-year').value;
            const status = document.getElementById('subject-status').value;
            const grade = document.getElementById('subject-grade').value;
            const progress = document.getElementById('subject-progress').value;
            
            if (!name || !career || !year || !status) {
                showToast('Por favor, completa todos los campos obligatorios', 'error');
                return;
            }
            
            // Determinar clase de estado
            let statusClass = 'status-pending';
            if (status === 'Cursando') statusClass = 'status-in-progress';
            if (status === 'Aprobado' || status === 'Final aprobado') statusClass = 'status-completed';
            
            // Agregar a la tabla
            const tableBody = document.getElementById('subjects-table-body');
            const newRow = document.createElement('tr');
            newRow.innerHTML = `
                <td>${name}</td>
                <td>${career}</td>
                <td>${year}</td>
                <td><span class="status ${statusClass}">${status}</span></td>
                <td>${grade || '-'}</td>
                <td>
                    <div class="progress-bar">
                        <div class="progress" style="width: ${progress || 0}%"></div>
                    </div>
                </td>
            `;
            tableBody.appendChild(newRow);
            
            closeModal();
            showToast('Materia agregada correctamente');
        }

        // Función para mostrar formulario de evento
        function showEventForm() {
            console.log("Mostrando formulario de evento...");
            const modal = document.getElementById('modal');
            const modalTitle = document.getElementById('modal-title');
            const modalBody = document.getElementById('modal-body');
            
            modalTitle.textContent = 'Agregar Evento';
            modalBody.innerHTML = `
                <div class="form-group">
                    <label class="form-label">Título del Evento</label>
                    <input type="text" class="form-input" id="event-title" placeholder="Ej: Examen de Farmacología">
                </div>
                <div class="form-group">
                    <label class="form-label">Fecha</label>
                    <input type="date" class="form-input" id="event-date">
                </div>
                <div class="form-group">
                    <label class="form-label">Hora</label>
                    <input type="time" class="form-input" id="event-time">
                </div>
                <div class="form-group">
                    <label class="form-label">Tipo de Evento</label>
                    <select class="form-select" id="event-type">
                        <option value="">Seleccionar tipo</option>
                        <option>Examen</option>
                        <option>Entrega</option>
                        <option>Práctica</option>
                        <option>Guardia</option>
                        <option>Clase</option>
                        <option>Reunión</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Descripción</label>
                    <textarea class="form-textarea" id="event-description" placeholder="Descripción del evento..."></textarea>
                </div>
                <div class="form-actions">
                    <button class="btn btn-secondary" id="cancel-event-btn">Cancelar</button>
                    <button class="btn" id="save-event-btn">Guardar Evento</button>
                </div>
            `;
            
            modal.style.display = 'flex';
            
            // Configurar eventos para los botones del modal
            document.getElementById('cancel-event-btn').addEventListener('click', closeModal);
            document.getElementById('save-event-btn').addEventListener('click', saveEvent);
        }

        // Función para guardar evento
        function saveEvent() {
            console.log("Guardando evento...");
            const title = document.getElementById('event-title').value;
            const date = document.getElementById('event-date').value;
            const time = document.getElementById('event-time').value;
            const type = document.getElementById('event-type').value;
            
            if (!title || !date || !type) {
                showToast('Por favor, completa todos los campos obligatorios', 'error');
                return;
            }
            
            closeModal();
            showToast('Evento agregado correctamente');
        }

        // Función para mostrar formulario de práctica
        function showPracticeForm() {
            console.log("Mostrando formulario de práctica...");
            const modal = document.getElementById('modal');
            const modalTitle = document.getElementById('modal-title');
            const modalBody = document.getElementById('modal-body');
            
            modalTitle.textContent = 'Agregar Práctica Clínica';
            modalBody.innerHTML = `
                <div class="form-group">
                    <label class="form-label">Servicio/Unidad</label>
                    <input type="text" class="form-input" id="practice-service" placeholder="Ej: Cardiología">
                </div>
                <div class="form-group">
                    <label class="form-label">Institución</label>
                    <input type="text" class="form-input" id="practice-institution" placeholder="Ej: Hospital Central">
                </div>
                <div class="form-group">
                    <label class="form-label">Fecha de Inicio</label>
                    <input type="date" class="form-input" id="practice-start-date">
                </div>
                <div class="form-group">
                    <label class="form-label">Fecha de Fin</label>
                    <input type="date" class="form-input" id="practice-end-date">
                </div>
                <div class="form-group">
                    <label class="form-label">Supervisor</label>
                    <input type="text" class="form-input" id="practice-supervisor" placeholder="Ej: Dr. Martínez">
                </div>
                <div class="form-group">
                    <label class="form-label">Estado</label>
                    <select class="form-select" id="practice-status">
                        <option value="">Seleccionar estado</option>
                        <option>Pendiente</option>
                        <option>En curso</option>
                        <option>Completada</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Actividades Realizadas</label>
                    <textarea class="form-textarea" id="practice-activities" placeholder="Describe las actividades realizadas..."></textarea>
                </div>
                <div class="form-actions">
                    <button class="btn btn-secondary" id="cancel-practice-btn">Cancelar</button>
                    <button class="btn" id="save-practice-btn">Guardar Práctica</button>
                </div>
            `;
            
            modal.style.display = 'flex';
            
            // Configurar eventos para los botones del modal
            document.getElementById('cancel-practice-btn').addEventListener('click', closeModal);
            document.getElementById('save-practice-btn').addEventListener('click', savePractice);
        }

        // Función para guardar práctica
        function savePractice() {
            console.log("Guardando práctica...");
            const service = document.getElementById('practice-service').value;
            const institution = document.getElementById('practice-institution').value;
            const startDate = document.getElementById('practice-start-date').value;
            const endDate = document.getElementById('practice-end-date').value;
            const supervisor = document.getElementById('practice-supervisor').value;
            const status = document.getElementById('practice-status').value;
            
            if (!service || !institution || !startDate || !endDate || !supervisor || !status) {
                showToast('Por favor, completa todos los campos obligatorios', 'error');
                return;
            }
            
            // Formatear fechas
            const formattedStartDate = new Date(startDate).toLocaleDateString('es-ES');
            const formattedEndDate = new Date(endDate).toLocaleDateString('es-ES');
            
            // Determinar clase de estado
            let statusClass = 'status-pending';
            if (status === 'En curso') statusClass = 'status-in-progress';
            if (status === 'Completada') statusClass = 'status-completed';
            
            // Agregar a la tabla
            const tableBody = document.getElementById('practices-table-body');
            const newRow = document.createElement('tr');
            newRow.innerHTML = `
                <td>${service}</td>
                <td>${institution}</td>
                <td>${formattedStartDate} - ${formattedEndDate}</td>
                <td>${supervisor}</td>
                <td><span class="status ${statusClass}">${status}</span></td>
            `;
            tableBody.appendChild(newRow);
            
            closeModal();
            showToast('Práctica agregada correctamente');
        }

        // Función para exportar datos
        function exportData(format) {
            console.log(`Exportando datos en formato ${format}...`);
            showToast(`Exportando datos en formato ${format}...`);
            // Simulación de exportación
            setTimeout(() => {
                showToast(`Datos exportados correctamente en formato ${format}`);
            }, 1500);
        }

        // Función para guardar configuración de backup
        function saveBackupSettings() {
            console.log("Guardando configuración de backup...");
            const frequency = document.getElementById('backup-frequency').value;
            showToast(`Configuración de respaldo guardada: ${frequency}`);
        }

        // Función para restaurar datos
        function restoreData() {
            console.log("Restaurando datos...");
            const fileInput = document.getElementById('backup-file');
            if (!fileInput.files.length) {
                showToast('Por favor, selecciona un archivo de respaldo', 'error');
                return;
            }
            
            showToast('Restaurando datos desde el archivo...');
            // Simulación de restauración
            setTimeout(() => {
                showToast('Datos restaurados correctamente');
            }, 1500);
        }

        // Función para navegar en el calendario
        function navigateCalendar(direction) {
            console.log(`Navegando calendario: ${direction}`);
            const currentMonth = document.querySelector('.calendar h3').textContent;
            showToast(`Navegando al mes ${direction === 'prev' ? 'anterior' : 'siguiente'} de ${currentMonth}`);
        }

        // =============================================
        // FUNCIONES AUXILIARES
        // =============================================
        
        // Función para cerrar modal
        function closeModal() {
            console.log("Cerrando modal...");
            document.getElementById('modal').style.display = 'none';
        }

        // Función para mostrar notificación toast
        function showToast(message, type = 'success') {
            console.log(`Mostrando toast: ${message}`);
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toast-message');
            
            toastMessage.textContent = message;
            
            // Cambiar color según el tipo
            if (type === 'error') {
                toast.style.backgroundColor = 'var(--danger)';
            } else {
                toast.style.backgroundColor = 'var(--success)';
            }
            
            toast.classList.add('show');
            
            // Ocultar después de 3 segundos
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // Función auxiliar para formatear fecha para input date
        function formatDateForInput(dateString) {
            const parts = dateString.split('/');
            if (parts.length === 3) {
                return `${parts[2]}-${parts[1].padStart(2, '0')}-${parts[0].padStart(2, '0')}`;
            }
            return '';
        }
    </script>
</body>
</html>
